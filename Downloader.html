<!DOCTYPE html>

<body>
    <button onclick="downloadPdf()">Download</button>
</body>

<script>
    function downloadPdf() {
        fetch('https://localhost:7289/PdfGeneration/Download')
            .then(function (response) {
                response.json().then(function (data){
                    var bytes = base64ToArrayBuffer(data);
                    saveByteArray('HelloWorld.pdf', bytes);
                })
                
            })
            .catch(function (err) {
                alert(err);
            });
    }

    function base64ToArrayBuffer(base64) {
        var binaryString = window.atob(base64);
        var binaryLen = binaryString.length;
        var bytes = new Uint8Array(binaryLen);
        for (var i = 0; i < binaryLen; i++) {
            var ascii = binaryString.charCodeAt(i);
            bytes[i] = ascii;
        }
        return bytes;
    }

    function saveByteArray(reportName, byte) {
        var blob = new Blob([byte], { type: "application/pdf" });
        var link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);
        var fileName = reportName;
        link.download = fileName;
        link.click();
    };
</script>

</html>